<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="crowbook">
    <meta name="author" content="Élisabeth Henry">
    <meta name="viewport" content="width=device-width">
    <link rel = "icon" href = "images/image_1.svg">
    <title>Crowbook User Guide - 7. Interactive fiction</title>
    <link rel = "stylesheet" href = "stylesheet.css" type = "text/css"
          />
    <link rel = "stylesheet" href = "print.css" type = "text/css"
          media = "print" />
   <script>
function on(name) {
    var elements = document.getElementsByClassName(name);
    for (var i = 0; i < elements.length; i++) {
        var elem = elements[i];
        elem.style.backgroundColor = "pink";
    }
}
function off(name) {
    var elements = document.getElementsByClassName(name);
    for (var i = 0; i < elements.length; i++) {
        var elem = elements[i];
        elem.style.backgroundColor = "white";
    }
}

var display_menu = false;
function toggle() {
    if (display_menu == true) {
        display_menu = false;
        document.getElementById("nav").style.left = "-21%";
        document.getElementById("content").style.marginLeft = "0%";
        document.getElementById("menu").style.left = "1em";
/*        if(document.getElementById("top")) {
            document.getElementById("top").style.left = "0";
        }
        if(document.getElementById("footer")) {
            document.getElementById("footer").style.marginLeft = "0%";
        }*/
    } else {
        display_menu = true;
        document.getElementById("nav").style.left = "0";
        document.getElementById("content").style.marginLeft = "20%";
        document.getElementById("menu").style.left = "20%";
/*        if(document.getElementById("top")) {
            document.getElementById("top").style.left = "20%";
        }
        if(document.getElementById("footer")) {
            document.getElementById("footer").style.marginLeft = "20%";
        }*/
    }
}

   </script>


  </head>  
  <body>
  
<script type = 'application/ld+json'>
{
    "@context": "http://schema.org/",
    "@type": "Book",
    "author": "Élisabeth Henry",
    "name": "Crowbook User Guide",
    "version": "0.15.0",
    
    
    "license": "This guide is published under the Creative Commons Attribution-ShareAlike 4.0-International license.",
    "about": "Crowbook allows to render a book written in Markdown in various formats. This is some kind of manual for it, and a way to demonstrate and test it.",
    "inLanguage": "en"




}
</script>
  <nav id = "nav">
    <h2><a href = "index.html">Crowbook User Guide</a></h2>
        <ul>
      <li>
        <a href="chapter_000.html#link-1">1. Crowbook</a>
        <ul>
          <li><a href="chapter_000.html#link-2">1.1. Example</a></li>
          <li>
            <a href="chapter_000.html#link-3">1.2. Installing</a>
            <ul>
              <li><a href="chapter_000.html#link-4">1.2.1. Binaries</a></li>
              <li><a href="chapter_000.html#link-5">1.2.2. Using Cargo</a></li>
            </ul>
          </li>
          <li><a href="chapter_000.html#link-6">1.3. Dependencies</a></li>
          <li><a href="chapter_000.html#link-7">1.4. Quick tour</a></li>
          <li>
            <a href="chapter_000.html#link-8">1.5. Current features</a>
            <ul>
              <li><a href="chapter_000.html#link-9">1.5.1. Output formats</a></li>
              <li><a href="chapter_000.html#link-10">1.5.2. Input format</a></li>
              <li><a href="chapter_000.html#link-11">1.5.3. Typographic “cleaning”</a></li>
              <li><a href="chapter_000.html#link-12">1.5.4. Links handling</a></li>
              <li><a href="chapter_000.html#link-13">1.5.5. Inline YAML blocks</a></li>
              <li><a href="chapter_000.html#link-14">1.5.6. Proofreading</a></li>
              <li><a href="chapter_000.html#link-15">1.5.7. Interactive fiction</a></li>
              <li><a href="chapter_000.html#link-16">1.5.8. Customization</a></li>
              <li><a href="chapter_000.html#link-17">1.5.9. Bugs</a></li>
            </ul>
          </li>
          <li><a href="chapter_000.html#link-18">1.6. Contributors</a></li>
          <li><a href="chapter_000.html#link-19">1.7. Acknowledgements</a></li>
          <li><a href="chapter_000.html#link-20">1.8. ChangeLog</a></li>
          <li><a href="chapter_000.html#link-21">1.9. Contributing</a></li>
          <li><a href="chapter_000.html#link-22">1.10. Library</a></li>
          <li><a href="chapter_000.html#link-23">1.11. License</a></li>
        </ul>
      </li>
      <li>
        <a href="chapter_001.html#link-24">2. Arguments</a>
        <ul>
          <li><a href="chapter_001.html#link-25">2.1. &lt;code&gt;--create&lt;/code&gt;</a></li>
          <li><a href="chapter_001.html#link-26">2.2. &lt;code&gt;--single&lt;/code&gt;</a></li>
          <li><a href="chapter_001.html#link-27">2.3. &lt;code&gt;--set&lt;/code&gt;</a></li>
          <li><a href="chapter_001.html#link-28">2.4. &lt;code&gt;--list-options&lt;/code&gt;</a></li>
          <li><a href="chapter_001.html#link-29">2.5. &lt;code&gt;--print-template&lt;/code&gt;</a></li>
          <li><a href="chapter_001.html#link-30">2.6. &lt;code&gt;--stats&lt;/code&gt;</a></li>
          <li><a href="chapter_001.html#link-31">2.7. &lt;code&gt;--proofread&lt;/code&gt;</a></li>
          <li>
            <a href="chapter_001.html#link-32">2.8. &lt;code&gt;--autograph&lt;/code&gt;</a>
            <ul>
              <li><a href="chapter_001.html#link-33">2.8.1. Example</a></li>
            </ul>
          </li>
          <li><a href="chapter_001.html#link-34">2.9. &lt;code&gt;--verbose&lt;/code&gt;</a></li>
          <li>
            <a href="chapter_001.html#link-35">2.10. &lt;code&gt;--to&lt;/code&gt;</a>
            <ul>
              <li><a href="chapter_001.html#link-36">2.10.1. Examples</a></li>
            </ul>
          </li>
          <li><a href="chapter_001.html#link-37">2.11. &lt;code&gt;--output&lt;/code&gt;</a></li>
          <li>
            <a href="chapter_001.html#link-38">2.12. &lt;code&gt;--lang&lt;/code&gt;</a>
            <ul>
              <li><a href="chapter_001.html#link-39">2.12.1. Example</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <a href="chapter_002.html#link-40">3. The configuration file</a>
        <ul>
          <li><a href="chapter_002.html#link-41">3.1. Configuration in an inline YAML block</a></li>
          <li>
            <a href="chapter_002.html#link-42">3.2. The list of files</a>
            <ul>
              <li><a href="chapter_002.html#link-43">3.2.1. Parts</a></li>
              <li><a href="chapter_002.html#link-44">3.2.2. Subchapters</a></li>
            </ul>
          </li>
          <li>
            <a href="chapter_002.html#link-45">3.3. Crowbook options</a>
            <ul>
              <li><a href="chapter_002.html#link-46">3.3.1. Metadata</a></li>
              <li><a href="chapter_002.html#link-47">3.3.2. The &lt;code&gt;import&lt;/code&gt; special option</a></li>
              <li>
                <a href="chapter_002.html#link-48">3.3.3. Output options</a>
                <ul>
                  <li><a href="chapter_002.html#link-49">3.3.3.1. The &lt;code&gt;output&lt;/code&gt; option</a></li>
                  <li><a href="chapter_002.html#link-50">3.3.3.2. &lt;code&gt;output.base_path&lt;/code&gt;</a></li>
                </ul>
              </li>
              <li><a href="chapter_002.html#link-51">3.3.4. Input options</a></li>
              <li><a href="chapter_002.html#link-52">3.3.5. Generic options for rendering</a></li>
              <li>
                <a href="chapter_002.html#link-53">3.3.6. HTML Options</a>
                <ul>
                  <li><a href="chapter_002.html#link-54">3.3.6.1. Options for standalone HTML</a></li>
                </ul>
              </li>
              <li><a href="chapter_002.html#link-55">3.3.7. Options for LaTeX/PDF rendering</a></li>
              <li><a href="chapter_002.html#link-56">3.3.8. Options for EPUB rendering</a></li>
              <li>
                <a href="chapter_002.html#link-57">3.3.9. Resources options</a>
                <ul>
                  <li><a href="chapter_002.html#link-58">3.3.9.1. &lt;code&gt;resources.files&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-59">3.3.9.2. &lt;code&gt;resources.out_path&lt;/code&gt;</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li>
            <a href="chapter_002.html#link-60">3.4. Full list of options</a>
            <ul>
              <li>
                <a href="chapter_002.html#link-61">3.4.1. Metadata</a>
                <ul>
                  <li><a href="chapter_002.html#link-62">3.4.1.1. &lt;code&gt;author&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-63">3.4.1.2. &lt;code&gt;title&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-64">3.4.1.3. &lt;code&gt;lang&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-65">3.4.1.4. &lt;code&gt;subject&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-66">3.4.1.5. &lt;code&gt;description&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-67">3.4.1.6. &lt;code&gt;cover&lt;/code&gt;</a></li>
                </ul>
              </li>
              <li>
                <a href="chapter_002.html#link-68">3.4.2. Additional metadata</a>
                <ul>
                  <li><a href="chapter_002.html#link-69">3.4.2.1. &lt;code&gt;subtitle&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-70">3.4.2.2. &lt;code&gt;license&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-71">3.4.2.3. &lt;code&gt;version&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-72">3.4.2.4. &lt;code&gt;date&lt;/code&gt;</a></li>
                </ul>
              </li>
              <li>
                <a href="chapter_002.html#link-73">3.4.3. Output options</a>
                <ul>
                  <li><a href="chapter_002.html#link-74">3.4.3.1. &lt;code&gt;output&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-75">3.4.3.2. &lt;code&gt;output.epub&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-76">3.4.3.3. &lt;code&gt;output.html&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-77">3.4.3.4. &lt;code&gt;output.html.dir&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-78">3.4.3.5. &lt;code&gt;output.tex&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-79">3.4.3.6. &lt;code&gt;output.pdf&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-80">3.4.3.7. &lt;code&gt;output.odt&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-81">3.4.3.8. &lt;code&gt;output.html.if&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-82">3.4.3.9. &lt;code&gt;output.base_path&lt;/code&gt;</a></li>
                </ul>
              </li>
              <li>
                <a href="chapter_002.html#link-83">3.4.4. Rendering options</a>
                <ul>
                  <li><a href="chapter_002.html#link-84">3.4.4.1. &lt;code&gt;rendering.highlight&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-85">3.4.4.2. &lt;code&gt;rendering.highlight.theme&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-86">3.4.4.3. &lt;code&gt;rendering.initials&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-87">3.4.4.4. &lt;code&gt;rendering.inline_toc&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-88">3.4.4.5. &lt;code&gt;rendering.inline_toc.name&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-89">3.4.4.6. &lt;code&gt;rendering.num_depth&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-90">3.4.4.7. &lt;code&gt;rendering.chapter&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-91">3.4.4.8. &lt;code&gt;rendering.part&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-92">3.4.4.9. &lt;code&gt;rendering.chapter.roman_numerals&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-93">3.4.4.10. &lt;code&gt;rendering.part.roman_numerals&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-94">3.4.4.11. &lt;code&gt;rendering.part.reset_counter&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-95">3.4.4.12. &lt;code&gt;rendering.chapter.template&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-96">3.4.4.13. &lt;code&gt;rendering.part.template&lt;/code&gt;</a></li>
                </ul>
              </li>
              <li>
                <a href="chapter_002.html#link-97">3.4.5. Special option</a>
                <ul>
                  <li><a href="chapter_002.html#link-98">3.4.5.1. &lt;code&gt;import&lt;/code&gt;</a></li>
                </ul>
              </li>
              <li>
                <a href="chapter_002.html#link-99">3.4.6. HTML options</a>
                <ul>
                  <li><a href="chapter_002.html#link-100">3.4.6.1. &lt;code&gt;html.icon&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-101">3.4.6.2. &lt;code&gt;html.highlight.theme&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-102">3.4.6.3. &lt;code&gt;html.header&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-103">3.4.6.4. &lt;code&gt;html.footer&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-104">3.4.6.5. &lt;code&gt;html.css&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-105">3.4.6.6. &lt;code&gt;html.css.add&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-106">3.4.6.7. &lt;code&gt;html.css.colors&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-107">3.4.6.8. &lt;code&gt;html.js&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-108">3.4.6.9. &lt;code&gt;html.css.print&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-109">3.4.6.10. &lt;code&gt;html.highlight.js&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-110">3.4.6.11. &lt;code&gt;html.highlight.css&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-111">3.4.6.12. &lt;code&gt;html.side_notes&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-112">3.4.6.13. &lt;code&gt;html.escape_nb_spaces&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-113">3.4.6.14. &lt;code&gt;html.chapter.template&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-114">3.4.6.15. &lt;code&gt;html.part.template&lt;/code&gt;</a></li>
                </ul>
              </li>
              <li>
                <a href="chapter_002.html#link-115">3.4.7. Standalone HTML options</a>
                <ul>
                  <li><a href="chapter_002.html#link-116">3.4.7.1. &lt;code&gt;html.standalone.template&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-117">3.4.7.2. &lt;code&gt;html.standalone.one_chapter&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-118">3.4.7.3. &lt;code&gt;html.standalone.js&lt;/code&gt;</a></li>
                </ul>
              </li>
              <li>
                <a href="chapter_002.html#link-119">3.4.8. Multifile HTML options</a>
                <ul>
                  <li><a href="chapter_002.html#link-120">3.4.8.1. &lt;code&gt;html.dir.template&lt;/code&gt;</a></li>
                </ul>
              </li>
              <li>
                <a href="chapter_002.html#link-121">3.4.9. Interactive fiction HTML options</a>
                <ul>
                  <li><a href="chapter_002.html#link-122">3.4.9.1. &lt;code&gt;html.if.js&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-123">3.4.9.2. &lt;code&gt;html.if.new_turn&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-124">3.4.9.3. &lt;code&gt;html.if.end_turn&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-125">3.4.9.4. &lt;code&gt;html.if.new_game&lt;/code&gt;</a></li>
                </ul>
              </li>
              <li>
                <a href="chapter_002.html#link-126">3.4.10. EPUB options</a>
                <ul>
                  <li><a href="chapter_002.html#link-127">3.4.10.1. &lt;code&gt;epub.version&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-128">3.4.10.2. &lt;code&gt;epub.highlight.theme&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-129">3.4.10.3. &lt;code&gt;epub.css&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-130">3.4.10.4. &lt;code&gt;epub.css.add&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-131">3.4.10.5. &lt;code&gt;epub.chapter.xhtml&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-132">3.4.10.6. &lt;code&gt;epub.toc.extras&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-133">3.4.10.7. &lt;code&gt;epub.escape_nb_spaces&lt;/code&gt;</a></li>
                </ul>
              </li>
              <li>
                <a href="chapter_002.html#link-134">3.4.11. LaTeX options</a>
                <ul>
                  <li><a href="chapter_002.html#link-135">3.4.11.1. &lt;code&gt;tex.highlight.theme&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-136">3.4.11.2. &lt;code&gt;tex.links_as_footnotes&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-137">3.4.11.3. &lt;code&gt;tex.command&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-138">3.4.11.4. &lt;code&gt;tex.template&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-139">3.4.11.5. &lt;code&gt;tex.template.add&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-140">3.4.11.6. &lt;code&gt;tex.class&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-141">3.4.11.7. &lt;code&gt;tex.paper.size&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-142">3.4.11.8. &lt;code&gt;tex.margin.left&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-143">3.4.11.9. &lt;code&gt;tex.margin.right&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-144">3.4.11.10. &lt;code&gt;tex.margin.top&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-145">3.4.11.11. &lt;code&gt;tex.margin.bottom&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-146">3.4.11.12. &lt;code&gt;tex.title&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-147">3.4.11.13. &lt;code&gt;tex.font.size&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-148">3.4.11.14. &lt;code&gt;tex.hyperref&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-149">3.4.11.15. &lt;code&gt;tex.stdpage&lt;/code&gt;</a></li>
                </ul>
              </li>
              <li>
                <a href="chapter_002.html#link-150">3.4.12. Resources option</a>
                <ul>
                  <li><a href="chapter_002.html#link-151">3.4.12.1. &lt;code&gt;resources.files&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-152">3.4.12.2. &lt;code&gt;resources.out_path&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-153">3.4.12.3. &lt;code&gt;resources.base_path&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-154">3.4.12.4. &lt;code&gt;resources.base_path.links&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-155">3.4.12.5. &lt;code&gt;resources.base_path.images&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-156">3.4.12.6. &lt;code&gt;resources.base_path.files&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-157">3.4.12.7. &lt;code&gt;resources.base_path.templates&lt;/code&gt;</a></li>
                </ul>
              </li>
              <li>
                <a href="chapter_002.html#link-158">3.4.13. Input options</a>
                <ul>
                  <li><a href="chapter_002.html#link-159">3.4.13.1. &lt;code&gt;input.clean&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-160">3.4.13.2. &lt;code&gt;input.clean.smart_quotes&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-161">3.4.13.3. &lt;code&gt;input.clean.ligature.dashes&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-162">3.4.13.4. &lt;code&gt;input.clean.ligature.guillemets&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-163">3.4.13.5. &lt;code&gt;input.yaml_blocks&lt;/code&gt;</a></li>
                </ul>
              </li>
              <li>
                <a href="chapter_002.html#link-164">3.4.14. Crowbook options</a>
                <ul>
                  <li><a href="chapter_002.html#link-165">3.4.14.1. &lt;code&gt;crowbook.html_as_text&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-166">3.4.14.2. &lt;code&gt;crowbook.markdown.superscript&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-167">3.4.14.3. &lt;code&gt;crowbook.temp_dir&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-168">3.4.14.4. &lt;code&gt;crowbook.zip.command&lt;/code&gt;</a></li>
                </ul>
              </li>
              <li>
                <a href="chapter_002.html#link-169">3.4.15. Output options (for proofreading)</a>
                <ul>
                  <li><a href="chapter_002.html#link-170">3.4.15.1. &lt;code&gt;output.proofread.html&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-171">3.4.15.2. &lt;code&gt;output.proofread.html.dir&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-172">3.4.15.3. &lt;code&gt;output.proofread.pdf&lt;/code&gt;</a></li>
                </ul>
              </li>
              <li>
                <a href="chapter_002.html#link-173">3.4.16. Proofreading options (only for &lt;code&gt;output.proofread.*&lt;/code&gt; targets)</a>
                <ul>
                  <li><a href="chapter_002.html#link-174">3.4.16.1. &lt;code&gt;proofread&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-175">3.4.16.2. &lt;code&gt;proofread.languagetool&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-176">3.4.16.3. &lt;code&gt;proofread.languagetool.port&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-177">3.4.16.4. &lt;code&gt;proofread.grammalecte&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-178">3.4.16.5. &lt;code&gt;proofread.grammalecte.port&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-179">3.4.16.6. &lt;code&gt;proofread.repetitions&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-180">3.4.16.7. &lt;code&gt;proofread.repetitions.max_distance&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-181">3.4.16.8. &lt;code&gt;proofread.repetitions.fuzzy&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-182">3.4.16.9. &lt;code&gt;proofread.repetitions.fuzzy.threshold&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-183">3.4.16.10. &lt;code&gt;proofread.repetitions.ignore_proper&lt;/code&gt;</a></li>
                  <li><a href="chapter_002.html#link-184">3.4.16.11. &lt;code&gt;proofread.repetitions.threshold&lt;/code&gt;</a></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <a href="chapter_003.html#link-185">4. Markdown format</a>
        <ul>
          <li><a href="chapter_003.html#link-186">4.1. Tables</a></li>
          <li><a href="chapter_003.html#link-187">4.2. Footnotes</a></li>
          <li><a href="chapter_003.html#link-188">4.3. Superscript and subscript</a></li>
          <li><a href="chapter_003.html#link-189">4.4. “Standalone” images</a></li>
          <li><a href="chapter_003.html#link-190">4.5. Interactive fiction</a></li>
        </ul>
      </li>
      <li>
        <a href="chapter_004.html#link-191">5. Templates</a>
        <ul>
          <li>
            <a href="chapter_004.html#link-192">5.1. Create and edit template</a>
            <ul>
              <li><a href="chapter_004.html#link-193">5.1.1. &lt;code&gt;--print-template&lt;/code&gt;</a></li>
              <li>
                <a href="chapter_004.html#link-194">5.1.2. Mustache syntax</a>
                <ul>
                  <li><a href="chapter_004.html#link-195">5.1.2.1. Syntax in LaTeX</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li>
            <a href="chapter_004.html#link-196">5.2. List of templates</a>
            <ul>
              <li><a href="chapter_004.html#link-197">5.2.1. html.js</a></li>
              <li><a href="chapter_004.html#link-198">5.2.2. html.css</a></li>
              <li><a href="chapter_004.html#link-199">5.2.3. html.css.colors</a></li>
              <li><a href="chapter_004.html#link-200">5.2.4. html.css.print</a></li>
              <li><a href="chapter_004.html#link-201">5.2.5. html.highlight.js</a></li>
              <li><a href="chapter_004.html#link-202">5.2.6. html.highlight.css</a></li>
              <li><a href="chapter_004.html#link-203">5.2.7. html.standalone.js</a></li>
              <li><a href="chapter_004.html#link-204">5.2.8. html.standalone.template</a></li>
              <li><a href="chapter_004.html#link-205">5.2.9. html.dir.template</a></li>
              <li><a href="chapter_004.html#link-206">5.2.10. tex.template</a></li>
              <li><a href="chapter_004.html#link-207">5.2.11. epub.chapter.xhtml</a></li>
              <li><a href="chapter_004.html#link-208">5.2.12. epub.titlepage.xhtml</a></li>
              <li><a href="chapter_004.html#link-209">5.2.13. epub.css</a></li>
              <li><a href="chapter_004.html#link-210">5.2.14. Inline templates</a></li>
            </ul>
          </li>
          <li>
            <a href="chapter_004.html#link-211">5.3. List of accessible variables</a>
            <ul>
              <li><a href="chapter_004.html#link-212">5.3.1. Metadata</a></li>
              <li><a href="chapter_004.html#link-213">5.3.2. Localisation strings</a></li>
              <li><a href="chapter_004.html#link-214">5.3.3. Template-dependent values</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <a href="chapter_005.html#link-215">6. Proofreading with Crowbook</a>
        <ul>
          <li><a href="chapter_005.html#link-216">6.1. Enabling proofreading</a></li>
          <li><a href="chapter_005.html#link-217">6.2. Repetition detection</a></li>
          <li>
            <a href="chapter_005.html#link-218">6.3. Grammar checking</a>
            <ul>
              <li><a href="chapter_005.html#link-219">6.3.1. With Languagetool</a></li>
              <li><a href="chapter_005.html#link-220">6.3.2. With Grammalecte</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <a href="chapter_006.html#link-221">7. Interactive fiction</a>
        <ul>
          <li><a href="chapter_006.html#link-222">7.1. Basics</a></li>
          <li><a href="chapter_006.html#link-223">7.2. The interactive fiction renderer</a></li>
          <li><a href="chapter_006.html#link-224">7.3. Using Javascript in your interactive fiction</a></li>
          <li><a href="chapter_006.html#link-225">7.4. Embedding Makdown in your Javascript code embedded in your Markdown</a></li>
          <li><a href="chapter_006.html#link-226">7.5. Conditional blocks</a></li>
          <li><a href="chapter_006.html#link-227">7.6. Interactive fiction options</a></li>
        </ul>
      </li>
      <li>
        <a href="chapter_007.html#link-228">8. Tips and tricks</a>
        <ul>
          <li>
            <a href="chapter_007.html#link-229">8.1. Using Crowbook with Emacs’ markdown mode</a>
            <ul>
              <li><a href="chapter_007.html#link-230">8.1.1. Some explanations if it looks a bit cryptic to you</a></li>
            </ul>
          </li>
          <li><a href="chapter_007.html#link-231">8.2. Embedding fonts in an EPUB file</a></li>
        </ul>
      </li>
      <li>
        <a href="chapter_008.html#link-232">9. Contributing</a>
        <ul>
          <li><a href="chapter_008.html#link-233">9.1. Internationalization</a></li>
        </ul>
      </li>
      <li>
        <a href="chapter_009.html#link-234">ChangeLog</a>
        <ul>
          <li><a href="chapter_009.html#link-235">current (???)</a></li>
          <li><a href="chapter_009.html#link-236">0.15.2 (2020-07-07)</a></li>
          <li><a href="chapter_009.html#link-237">0.15.1 (2020-07-07)</a></li>
          <li><a href="chapter_009.html#link-238">0.15.0 (2019-07-18)</a></li>
          <li><a href="chapter_009.html#link-239">0.14.1 (2018-06-01)</a></li>
          <li><a href="chapter_009.html#link-240">0.14.0 (2017-11-26)</a></li>
          <li><a href="chapter_009.html#link-241">0.14.0-beta (2017-10-08)</a></li>
          <li><a href="chapter_009.html#link-242">0.13.0 (2017-07-14)</a></li>
          <li><a href="chapter_009.html#link-243">0.12.0 (2017-06-05)</a></li>
          <li><a href="chapter_009.html#link-244">0.11.4 (2017-03-21)</a></li>
          <li><a href="chapter_009.html#link-245">0.11.3 (2017-03-19)</a></li>
          <li><a href="chapter_009.html#link-246">0.11.2 (2017-03-05)</a></li>
          <li><a href="chapter_009.html#link-247">0.11.1 (2017-01-05)</a></li>
          <li><a href="chapter_009.html#link-248">0.11.0 (2016-12-31)</a></li>
          <li><a href="chapter_009.html#link-249">0.10.4 (2016-12-16)</a></li>
          <li><a href="chapter_009.html#link-250">0.10.3 (2016-11-19)</a></li>
          <li><a href="chapter_009.html#link-251">0.10.2 (2016-10-21)</a></li>
          <li><a href="chapter_009.html#link-252">0.10.1 (2016-10-18)</a></li>
          <li><a href="chapter_009.html#link-253">0.10.0 (2016-10-18)</a></li>
          <li><a href="chapter_009.html#link-254">0.9.1 (2016-09-29)</a></li>
          <li><a href="chapter_009.html#link-255">0.9.0 (2016-09-23)</a></li>
          <li><a href="chapter_009.html#link-256">0.8.0 (2016-09-19)</a></li>
          <li><a href="chapter_009.html#link-257">0.7.0 (2016-09-11)</a></li>
          <li><a href="chapter_009.html#link-258">0.6.0 (2016-09-09)</a></li>
          <li><a href="chapter_009.html#link-259">0.5.1 (2016-04-14)</a></li>
          <li><a href="chapter_009.html#link-260">0.5.0 (2016-04-02)</a></li>
          <li><a href="chapter_009.html#link-261">0.4.0 (2016-03-01)</a></li>
          <li><a href="chapter_009.html#link-262">0.3.0 (2016-02-27)</a></li>
          <li><a href="chapter_009.html#link-263">0.2.2 (2016-02-25)</a></li>
          <li><a href="chapter_009.html#link-264">0.2.1 (2016-02-25)</a></li>
          <li><a href="chapter_009.html#link-265">0.2.0 (2016-02-25)</a></li>
          <li><a href="chapter_009.html#link-266">0.1.0 (2016-02-21)</a></li>
        </ul>
      </li>
      <li><a href="chapter_010.html#link-267">GNU LESSER GENERAL PUBLIC LICENSE</a></li>
    </ul>
  </nav>

  <div id = "content">
    <div id = "top"><p id = "para-1203">Crowbook User Guide 0.15.0</p>
</div>
    <div id = "page">
      <header>
        <div id = "menu">
	  <img id = "menu-button" onclick="toggle();"
               src="menu.svg" alt = "Table of contents" title = "Table of contents" />
        </div>
      </header>
      <p class = "prev_chapter">
  <a href = "chapter_005.html">
    « 6. Proofreading with Crowbook
  </a>
</p>
      <h1 id = 'link-221'><span class = 'chapter-header'>Chapter 7</span><br />Interactive fiction</h1><p id = "para-663">Version <a href = "https://github.com/lise-henry/crowbook/tree/v0.12.0"><code>v0.12.0</code></a> added experimental support for writing interactive fiction.</p>
<blockquote><p id = "para-664">Since this support is experimental, it means it can change at anytime, and there is no guarentee that the interactive fiction you write for the current version of <code>crowbook</code> will work with the next release, even if it isn’t a major release.</p>
</blockquote>
<h2 id = "link-222">7.1. Basics</h2>
<p id = "para-665">If you want to have a non-linear story, you can simply use Markdown links just as you would for any other link:</p>
<pre><span style="color:#839496;">* [Open the treasure chest](</span><span style="color:#2aa198;">open_chest.md</span><span style="color:#839496;">)</span><span style="color:#839496;">* [It might be trapped, stay away from it](</span><span style="color:#2aa198;">stay_away.md</span><span style="color:#839496;">)</span></pre><p id = "para-666">All <code>crowbook</code> renderers should render this correctly, allowing the reader to “choose her adventure”. Note, however, that you still need to include all these Markdown files in you book configuration files.</p>
<h2 id = "link-223">7.2. The interactive fiction renderer</h2>
<p id = "para-667">While the above allows you to generate correct EPUB and PDF files, it will still display all the content if the reader chooses to read your book linearly. While this may not be a problem, you might want to only display the part of the book that the reader is actually exploring.</p>
<p id = "para-668">In order to do so, you can use the interactive fiction html renderer:</p>
<pre><span style="color:#268bd2;">output.html.if</span><span style="color:#839496;">: </span><span style="color:#2aa198;">my_book.html</span></pre><p id = "para-669">This output is similar to the standalone HTML output, except the option to display only a chapter at a time is always true, and there is no way to display the table of contents.</p>
<h2 id = "link-224">7.3. Using Javascript in your interactive fiction</h2>
<p id = "para-670">While the above allows the reader to choose his own path, its interactivity is quite limited. With the interactive fiction renderer, it is possible to include Javascript code in your Markdown files, using a code block element:</p>
<pre><span style="color:#839496;">You open the chest, and you find a shiny sword. Yay!</span><span style="color:#839496;">    user_has_sword = true;</span></pre><p id = "para-671">This Javascript code can return a string value, which will be displayed inside the document according to the reader’s previous choices:</p>
<pre><span style="color:#839496;">You encounter a goblin, armed with a knife!</span><span style="color:#839496;">    if (user_has_sword) {</span><span style="color:#839496;">	    return &quot;You kill him with your sword, congratulations!&quot;;</span><span style="color:#839496;">	} else {</span><span style="color:#839496;">	    return &quot;You don&#39;t have any weapon, you die :(&quot;;</span><span style="color:#839496;">	}</span></pre><blockquote><p id = "para-672">Note that <em>only</em> the interactive fiction renderer supports this way of embedding Javascript code. If you try to render a document containing such code blocks to EPUB, PDF, or the “normal” HTML renderer, they will be displayed as regular code blocks.</p>
</blockquote>
<h2 id = "link-225">7.4. Embedding Makdown in your Javascript code embedded in your Markdown</h2>
<p id = "para-673">If you want to include Markdown formatting in the Javascript code (to display a passage or another without having to write HTML code), you can use the <code>@"..."@</code> syntax:</p>
<pre><span style="color:#839496;">    @&quot;You face a troll!&quot;@</span><span style="color:#839496;">    if (user_has_sword) {</span><span style="color:#839496;">	    @&quot;* [Attack him with your sword](fight_troll.md)&quot;@</span><span style="color:#839496;">	} else {</span><span style="color:#839496;">        @&quot;* [Better run away](run_away.md)&quot;@</span><span style="color:#839496;">	}</span></pre><p id = "para-674">Note that in this case you don’t need to return a value, this is done behind your back. Similarly, <code>@"..."@</code> blocks don’t require semicolons.</p>
<p id = "para-675">If you need to access the value of a Javascript variable inside this Markdown code, you can use the <code>{{...}}</code> syntax:</p>
<pre><span style="color:#839496;">    var name = prompt(&quot;Enter your name&quot;, &quot;world&quot;);</span><span style="color:#839496;">	@&quot;Hello, {{name}}&quot;@</span></pre><h2 id = "link-226">7.5. Conditional blocks</h2>
<p id = "para-676">Sometimes, you want some text (or Javascript code) to only be displayed (or run) when the reader reads this passage the first time, or alternatively when she goes back to it. While it is trivial to add some code to check that, it is a common enough pattern to justify its own variant: you’ll juste have to insert a named code block with the number:</p>
<pre><span style="color:#839496;">```1</span><span style="color:#839496;">@&quot;Only displayed at first passage&quot;@</span><span style="color:#839496;">```</span><span style="color:#839496;">```2</span><span style="color:#839496;">@&quot;Only displayed at second passage&quot;@</span><span style="color:#839496;">```</span><span style="color:#839496;">```&gt;2</span><span style="color:#839496;">@&quot;Displayed at passage 3, 4 and so on.</span><span style="color:#839496;">```</span></pre><h2 id = "link-227">7.6. Interactive fiction options</h2>
<p id = "para-677">As other renderers, there are options specific to the interactive fiction.</p>
<p id = "para-678"><b>html.if.new_game</b> allows you to specify the path to a Javascript that will be run at the beginning of the game. Since this code is not embedded in a function and is at the root (and the beginning) of the document, it is a good place to declare all the functions and the global variables you might need for your interactive fiction mechanics.</p>
<p id = "para-679">E.g.:</p>
<pre><span style="color:#268bd2;">html.if.new_game</span><span style="color:#839496;">: </span><span style="color:#2aa198;">some_file.js</span></pre><p id = "para-680"><b>html.if.new_turn</b> and <b>html.if.end_turn</b> allow you to specify some Javascript code that will be executed at the beginning and the end of each segment. Unlike <code>html.if.new_game</code>, the (usually shorter) code is specified inline, and can return a string value that will be displayed at the beginning and the end of each segment. This is exactly like including code blocks at the beginning or the end of each of your Markdown file. E.g.:</p>
<pre><span style="color:#268bd2;">html.if.new_turn</span><span style="color:#839496;">: &quot;</span><span style="color:#2aa198;">nb_turns += 1;</span><span style="color:#839496;">&quot;</span><span style="color:#268bd2;">html.end_turn</span><span style="color:#839496;">: &quot;</span><span style="color:#2aa198;">return &#39;Turn: &#39; + nb_turns;</span><span style="color:#839496;">&quot;</span></pre><p id = "para-681"><b>html.if.script</b> allows you to specify the name of a Javascript file to override the default script.</p>

      <p class = "next_chapter">
  <a href = "chapter_007.html">
    8. Tips and tricks »
  </a>
</p>
    </div>
    <footer id = "footer"><p id = "para-1202">Generated by <a href = "https://github.com/lise-henry/crowbook">Crowbook</a> 0.16.0</p>
</footer>
  </div>
  </body>
</html>
